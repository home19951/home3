/* Copyright WYSIWYG Web Builder 2023 - http://www.wysiwygwebbuilder.com */
(function(h){function p(a,d,b){for(var k=Math.sqrt(a.length),f=0,g=0;g<k;g++)for(var c=0;c<k;c++){var e=parseInt(a[g*k+c]);if(0!=e){if(f==d){b.left=c;b.top=g;b.width=e;b.height=e;return}f++}}}function n(a,d){m||(m=!0,setTimeout(function(){q(a,d)},60))}function r(a){if(a.is(":hidden"))return!1;h(window).scrollTop();h(window).height();a.offset();a.height();var d=a[0];a=d.offsetHeight;var b=window.document.documentElement;b=window.pageYOffset||b.scrollTop;var k=window.document.documentElement.clientHeight,
f=window.innerHeight;k=b+(k<f?f:k);f=0;do isNaN(d.offsetTop)||(f+=d.offsetTop),isNaN(d.offsetLeft);while(d=d.offsetParent);d=f;return d+1*a<=k&&d+a-1*a>=b}function q(a,d){var b=a.data("loaded");r(a)&&1!=b&&(a.data("loaded",!0),l(a,!0,d),h(window).resize(function(){l(a,!1,d)}));m=!1}function l(a,d,b){var k=b.matrix.split(","),f=Math.sqrt(k.length),g=a.outerWidth();f=(g-(f-1)*b.padding)/f;a.find(".thumbnails").width(g).height(g);a=a.find(".thumbnail");for(g=0;g<a.length;g++){var c={left:0,top:0,width:0,
height:0};p(k,g,c);if(0!=c.width){var e=a.eq(g),h=c.left*b.padding,l=c.top*b.padding,m=c.width*b.padding-b.padding,n=c.height*b.padding-b.padding;c.left*=f;c.top*=f;c.width*=f;c.height*=f;c.width+=m;c.height+=n;c.left+=h;c.top+=l;e.css("left",c.left+"px");e.css("top",c.top+"px");e.css("width",c.width+"px");e.css("height",c.height+"px");d&&("fade"==b.effect?e.fadeTo(b.duration,1):"randomfade"==b.effect?(delay=900*Math.random()+100,e.delay(delay).fadeTo(b.duration,1)):"slide"==b.effect||"blind"==b.effect||
"drop"==b.effect?(dir=Math.floor(3*Math.random()),delay=Math.floor(900*Math.random()+100),e.hide(),e.css("opacity","1"),e.delay(delay).show(b.effect,{direction:["left","right","up","down"][dir]},b.duration)):"css"==b.effect?(delay=900*Math.random()+100,setTimeout(function(a){a.addClass("effect")},delay,e)):(delay=Math.floor(900*Math.random()+100),e.hide(),e.css("opacity","1"),e.delay(delay).show(b.effect,b.duration)))}}}h.fn.photocollage=function(a){var d=h.extend({matrix:"2,0,1,0,0,1,1,1,1",padding:2,
effect:"fade",duration:1500,lazyload:!1},a);return this.each(function(){h.photocollage(h(this),d)})};h.photocollage=function(a,d){d.lazyload?(h(window).on("scroll resize",function(){n(a,d)}),n(a,d)):(h(window).resize(function(){l(a,!1,d)}),l(a,!0,d))};var m=!1})(jQuery);